<%- include('header') %>
    <section class="py-5">
        <div class="container">
            <div class=" text-center mb-0" style=" margin-top: 5rem!important;">
                <h2 class="position-relative d-inline-block">
                    <%= title %>
                </h2>
            </div>

            <!-- search bar -->
            <form action="/allcollection">
                <div class="input-group rounded mx-auto mt-4" style="width: 500px;">
                    <input type="search" class="form-control rounded" placeholder="Search" aria-label="Search"
                        aria-describedby="search-addon" name="collname"
                        value="<%= search === 'undefined' ?  '' : search %>" />
                    <span class="input-group-text border-0" id="search-addon">
                        <i class="fas fa-search"></i>
                    </span>
                </div>
            </form>
            <!--end search bar -->

            <!-- collection list -->
            <div class="mt-4 row gx-0 gy-3">
                <p class="lead text-muted"><b class="fw-bold" style="margin-left: 90px;">Collection List</b>
                </p>
                <table class="table table-hover mx-auto" style="font-size: larger;  width: 75%">
                    <% rowdata.forEach((collection)=> { %>
                        <tbody>
                            <tr>
                                <td>
                                    <%=collection.collection_name %>
                                </td>
                                <td class="text-left">
                                    <a href="/collection?cid=<%=collection.collection_id%>">view</a>
                                </td>
                            </tr>
                        </tbody>
                        <% }); %>
                </table>
            </div>
            <!--end collection list -->

            <!-- pagination -->
            <nav aria-label="Page navigation example">
                <ul class="pagination pg-blue justify-content-center">
                    <li class="page-item ">
                        <% if (nowPage> 1){ %> <a class="page-link"
                                href="/allcollection?collname=<%=search%>&page=<%=nowPage-1%>">Previous</a>
                            <% } %>
                    </li>
                    <% for(let i=iterator; i <=endingLink; i++){ %>
                        <li class="page-item">
                            <% if(i===nowPage){ %>
                                <a class="selectedLink page-link"
                                    href="/allcollection?collname=<%=search%>&page=<%=i%>">
                                    <%=i %>
                                </a>
                                <% continue ;%>
                                    <% } %>
                                        <% if(i>0){ %>
                                            <a class="page-link"
                                                href="/allcollection?collname=<%=search%>&page=<%=i %>">
                                                <%=i %>
                                            </a>
                                            <% } %>
                        </li>
                        <% } %>
                            <li class="page-item">
                                <% if(nowPage < totalpage) {%>
                                    <a class="page-link"
                                        href="/allcollection?collname=<%=search%>&page=<%=nowPage+1%>">Next</a>
                                    <% } %>
                            </li>
                </ul>
            </nav>
            <!--end pagination -->
        </div>
    </section>

    <%- include ('footer') %>